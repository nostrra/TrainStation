<form method="get">
    <div class="schedule-background">
        <p>
            <a class="btn btn-outline-dark" href='/schedules/new'>Add</a>
        </p>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Number</th>
                    <th scope="col">Departure</th>
                    <th scope="col">Destination</th>
                    <th scope="col">Departure time</th>
                    <th scope="col">Destination time</th>
                    <th scope="col">Price</th>
                    <th scope="col">Change</th>
                    <th scope="col">Remove</th>
                </tr>
            </thead>
            <tbody>
                <% @schedules.each do |schedule| %>
                <% @schedule = schedule %>
                <% @city = schedule.city %>
                <%= render :schedule_partial %>
                <% end  %>
            </tbody>
        </table>
        <p>
            <% page_start = (@page_number - 2) > 0 ? @page_number - 2 : 0 %>
            <% page_end = (@page_number + 2) < @pages_count ? @page_number + 2 : @pages_count %>
            <% page_start.upto(page_end) do |page_num| %>
            <% if page_num == @page_number %>
            <%= page_num + 1 %>
            <% else %>
            <a href="/schedules?page_number=<%= page_num %>&search=<%=@search %>">
                <%= page_num + 1 %>
            </a>
            <% end %>
            <% end %>
        </p>
    </div>
</form>